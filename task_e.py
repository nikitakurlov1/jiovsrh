import math

def факторіал(n):
    
    if n == 0:
        return 1
    return n * факторіал(n-1)

def обчислити_chx_тейлор(x, epsilon):
    
    результат = 1.0  # Первый член ряда
    n = 1
    доданок = 1.0
    
    while abs(доданок) > epsilon:
        доданок = (x ** (2*n)) / факторіал(2*n)
        результат += доданок
        n += 1
    
    return результат

def головна():
    try:
        x = float(input("Введіть значення x: "))
        epsilon = float(input("Введіть потрібну точність (epsilon > 0): "))
        
        if epsilon <= 0:
            raise ValueError("epsilon має бути > 0")
        
        # Вычисляем значение с помощью ряда Тейлора
        результат_тейлор = обчислити_chx_тейлор(x, epsilon)
        
        # Вычисляем значение с помощью встроенной функции
        результат_математика = math.cosh(x)
        
        print(f"Значення ch({x}) за рядом Тейлора: {результат_тейлор}")
        print(f"Значення ch({x}) з бібліотеки math: {результат_математика}")
        print(f"Різниця між значеннями: {abs(результат_тейлор - результат_математика)}")
        
    except ValueError as e:
        print(f"Помилка: {e}")
    except Exception as e:
        print(f"Сталася помилка: {e}")

if __name__ == "__main__":
    головна() 